В Python используется утинная типизация (duck typing), которая является примером ад-хок полиморфизма. Однако, помимо этого, в Python также реализуются элементы других типов полиморфизма. Рассмотрим основные виды полиморфизма в контексте Python:

1. Ад-хок полиморфизм (Ad-hoc Polymorphism)
Этот тип полиморфизма позволяет одному и тому же имени функции работать с объектами разных типов. В Python это достигается через динамическую типизацию и утинную типизацию.

Пример:
python
Копировать код
def add(a, b):
    return a + b

# Работает для чисел
print(add(2, 3))  # 5

# Работает для строк
print(add("Hello, ", "World!"))  # Hello, World!

# Работает для списков
print(add([1, 2], [3, 4]))  # [1, 2, 3, 4]
В этом случае функция add ведёт себя по-разному в зависимости от типов аргументов.

2. Полиморфизм подтипов (Subtype Polymorphism)
Этот тип полиморфизма связан с объектно-ориентированным программированием. В Python он реализуется через наследование, где подклассы могут переопределять методы базового класса.

Пример:
python
Копировать код
class Animal:
    def speak(self):
        raise NotImplementedError("Subclasses must implement this method")

class Dog(Animal):
    def speak(self):
        return "Woof!"

class Cat(Animal):
    def speak(self):
        return "Meow!"

# Полиморфизм через базовый класс
animals = [Dog(), Cat()]
for animal in animals:
    print(animal.speak())
Вывод:

Копировать код
Woof!
Meow!
Объекты Dog и Cat ведут себя по-разному, но их можно использовать через общий интерфейс Animal.

3. Полиморфизм через перегрузку операторов
В Python многие встроенные операторы, такие как +, *, и другие, являются полиморфными. Это позволяет объектам разных типов по-разному реализовывать их поведение.

Пример:
python
Копировать код
print(2 + 3)  # 5 (числа)
print("Hello" + " World")  # Hello World (строки)
print([1, 2] + [3, 4])  # [1, 2, 3, 4] (списки)
Классы в Python могут переопределять поведение операторов с помощью магических методов (__add__, __mul__ и т. д.).

Пример с пользовательским классом:
python
Копировать код
class Vector:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __add__(self, other):
        return Vector(self.x + other.x, self.y + other.y)

    def __repr__(self):
        return f"Vector({self.x}, {self.y})"

v1 = Vector(1, 2)
v2 = Vector(3, 4)
print(v1 + v2)  # Vector(4, 6)
4. Параметрический полиморфизм (Parametric Polymorphism)
Этот тип полиморфизма связан с использованием обобщённых типов (generics). В Python он доступен через стандартный модуль typing.

Пример:
python
Копировать код
from typing import List, TypeVar

T = TypeVar('T')

def get_first_element(elements: List[T]) -> T:
    return elements[0]

print(get_first_element([1, 2, 3]))  # 1
print(get_first_element(["a", "b", "c"]))  # a
Здесь функция работает с любым типом данных, который указан как параметр T.

Итог
Ад-хок полиморфизм: Реализуется через утиную типизацию.
Полиморфизм подтипов: Реализуется через наследование и переопределение методов.
Перегрузка операторов: Реализуется через магические методы.
Параметрический полиморфизм: Реализуется через обобщённые типы и модуль typing.